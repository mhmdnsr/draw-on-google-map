{"version":3,"sources":["webpack://MapDraw/webpack/universalModuleDefinition","webpack://MapDraw/webpack/bootstrap","webpack://MapDraw/./src/draw-on-map/store/index.js","webpack://MapDraw/./src/draw-on-map/tools.js","webpack://MapDraw/./src/draw-on-map/store/store.js","webpack://MapDraw/./src/index.js","webpack://MapDraw/./src/draw-on-map/index.js","webpack://MapDraw/./src/draw-on-map/brush-tool.js","webpack://MapDraw/./src/draw-on-map/store/pub-sub.js","webpack://MapDraw/./src/draw-on-map/polygon-tool.js","webpack://MapDraw/./src/draw-on-map/marker-tool.js","webpack://MapDraw/./src/draw-on-map/colorfulMarkerIcon.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","store","require","state","selected","color","strokeWeight","polygonFillColor","polygonOpacity","markerIcon","actions","changeSelected","context","payload","commit","changeColor","changeStrokeWeight","changePolygonFillColor","changePolygonOpacity","changeMarkerIcon","mutations","Store","Tools","_classCallCheck","this","_BRUSH","set","writable","_POLYGON","_MARKER","_NONE","self","startDraw","stopDraw","events","subscribe","brush","_classPrivateFieldSet","_classPrivateFieldGet","polygon","marker","PubSub","params","states","status","Proxy","publish","actionKey","console","error","concat","mutationKey","newState","assign","DrawOnMap","MapDraw","map","_this","_map","_draw","_defineProperty","setOptions","draggable","startBrushDraw","stopBrushDraw","clearArt","clearBrushArt","startPolygonDraw","stopPolygonDraw","clearPolygonArt","changeOpacity","opacity","changeFillColor","startMarkerDraw","stopMarkerDraw","clearMarkerArt","changeIcon","icon","clearAllArt","weight","Brush","Polygon","Marker","_google","_drawing","_brush","_polygon","_marker","google","maps","drawing","dispatch","clearDrawn","_getPrototypeOf","_initEvents","add","_assertThisInitialized","_initDraw","_drawStroke","_setOptions","_initTool","_isSelected","_drawn","BRUSH","_classPrivateMethodGet","_initTool2","_setOptions2","_initEvents2","event","clearListeners","obj","setMap","length","cache","options","zIndex","poly","strokeColor","e","getPath","insertAt","getLength","latLng","setPath","clickable","Date","getTime","Polyline","push","_drawStroke2","that","addListener","_initDraw2","callback","data","arguments","undefined","POLYGON","drawingControl","polygonOptions","editable","fillColor","fillOpacity","setDrawingMode","OverlayType","ColorfulMarkerIcon","MARKER","markerOptions","cursor","toLowerCase","canvas","document","createElement","style","display","tCtx","getContext","font","size","measureText","fontMeasurement","_fontHeightCalculation","_fontHeightCalculation2","height","width","fillStyle","fillText","toDataURL","fontStyle","text","sourceWidth","sourceHeight","textAlign","textBaseline","getImageData","firstY","_firstHeightCalculation","_firstHeightCalculation2","_lastHeightCalculation","_lastHeightCalculation2","y","x","lastY"],"mappings":"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","file":"draw-on-google-map.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"MapDraw\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MapDraw\"] = factory();\n\telse\n\t\troot[\"MapDraw\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","let Store = require('./store');\n\nconst States = {\n    selected: null,\n    color: \"#fff\",\n    strokeWeight: 6,\n    polygonFillColor: \"#fff\",\n    polygonOpacity: 1,\n    markerIcon: null\n};\n\nconst Actions = {\n    changeSelected(context, payload) {\n        context.commit('changeSelected', payload);\n    },\n    changeColor(context, payload) {\n        context.commit('changeColor', payload);\n    },\n    changeStrokeWeight(context, payload) {\n        context.commit('changeStrokeWeight', payload);\n    },\n    changePolygonFillColor(context, payload) {\n        context.commit('changePolygonFillColor', payload);\n    },\n    changePolygonOpacity(context, payload) {\n        context.commit('changePolygonOpacity', payload);\n    },\n    changeMarkerIcon(context, payload) {\n        context.commit('changeMarkerIcon', payload);\n    },\n};\n\nconst Mutations = {\n    changeSelected(state, payload) {\n        state.selected = payload;\n        return state;\n    },\n    changeColor(state, payload) {\n        state.color = payload;\n        return state;\n    },\n    changeStrokeWeight(state, payload) {\n        state.strokeWeight = payload;\n        return state;\n    },\n    changePolygonFillColor(state, payload) {\n        state.polygonFillColor = payload;\n        return state;\n    },\n    changePolygonOpacity(state, payload) {\n        if(payload > 1)\n            payload = 1;\n        else if(payload < 0)\n            payload = 0;\n        state.polygonOpacity = payload;\n        return state;\n    },\n    changeMarkerIcon(state, payload) {\n        state.markerIcon = payload;\n        return state;\n    },\n};\n\nlet store = new Store({\n    state: States,\n    actions: Actions,\n    mutations: Mutations\n});\n\nmodule.exports = store;","let Store = require('./store/store');\n\nclass Tools{\n    #BRUSH;\n    #POLYGON;\n    #MARKER;\n    #NONE = null;\n\n    constructor(store) {\n        let self = this;\n        this.startDraw = this.startDraw || function() {};\n        this.stopDraw = this.stopDraw || function() {};\n        if(store instanceof Store) {\n            store.events.subscribe('stateChange', () => {\n                self.stopDraw();\n                self.startDraw();\n            });\n        }\n    }\n\n    set BRUSH(brush){\n        this.#BRUSH = brush;\n    }\n\n    get BRUSH(){\n        return this.#BRUSH;\n    }\n\n    set POLYGON(polygon){\n        this.#POLYGON = polygon;\n    }\n\n    get POLYGON(){\n        return this.#POLYGON;\n    }\n\n    set MARKER(marker){\n        this.#MARKER = marker;\n    }\n\n    get MARKER(){\n        return this.#MARKER;\n    }\n\n    get NONE(){\n        return this.#NONE;\n    }\n}\n\nmodule.exports = Tools;","let PubSub = require('./pub-sub');\n\nclass Store {\n    constructor(params) {\n        let self = this;\n\n        this.actions = {};\n        this.mutations = {};\n        this.states = {};\n        this.status = 'resting';\n        this.events = new PubSub();\n\n        if (params.hasOwnProperty('actions')) {\n            this.actions = params.actions;\n        }\n\n        if (params.hasOwnProperty('mutations')) {\n            this.mutations = params.mutations;\n        }\n        this.states = new Proxy(params.state, {\n            set: function(state, key, value) {\n                state[key] = value;\n                self.events.publish('stateChange', self.states);\n                self.status = 'resting';\n                return true;\n            }\n        });\n    }\n\n    dispatch(actionKey, payload) {\n        if(typeof this.actions[actionKey] !== 'function') {\n            console.error(`Action \"${actionKey} doesn't exist.`);\n            return false;\n        }\n        this.status = 'action';\n        this.actions[actionKey](this, payload);\n        return true;\n    }\n\n    commit(mutationKey, payload) {\n        if(typeof this.mutations[mutationKey] !== 'function') {\n            console.error(`Mutation \"${mutationKey}\" doesn't exist`);\n            return false;\n        }\n        this.status = 'mutation';\n        let newState = this.mutations[mutationKey](this.states, payload);\n        this.states = Object.assign(this.states, newState);\n        return true;\n    }\n}\n\nmodule.exports = Store;","let DrawOnMap = require(\"./draw-on-map\");\n\nclass MapDraw {\n    #map;\n    #draw;\n\n    constructor(map) {\n        if (!map)\n            throw(\"You should pass the map instance.\");\n        this.#map = map;\n        this.#draw = new DrawOnMap(map);\n    }\n\n    holdMap = () => {\n        this.#map.setOptions({draggable: false});\n    };\n\n    releaseMap = () => {\n        this.#map.setOptions({draggable: true});\n    };\n\n    clearAllArt() {\n        this.#draw.clearAllArt();\n    }\n\n    changeColor(color){\n        this.#draw.changeColor(color);\n    }\n\n    changeStrokeWeight(weight){\n        this.#draw.changeStrokeWeight(weight);\n    }\n\n    brush = {\n        startDraw: () => {\n            this.#draw.startBrushDraw();\n        },\n        stopDraw: () => {\n            this.#draw.stopBrushDraw();\n        },\n        clearArt: () => {\n            this.#draw.clearBrushArt();\n        }\n    };\n\n    polygon = {\n        startDraw: () => {\n            this.#draw.startPolygonDraw();\n        },\n        stopDraw: () => {\n            this.#draw.stopPolygonDraw();\n        },\n        clearArt: () => {\n            this.#draw.clearPolygonArt();\n        },\n        changeOpacity: opacity => {\n            this.#draw.changePolygonOpacity(opacity);\n        },\n        changeFillColor: color => {\n            this.#draw.changePolygonFillColor(color);\n        }\n    };\n\n    marker = {\n        startDraw: () => {\n            this.#draw.startMarkerDraw();\n        },\n        stopDraw: () => {\n            this.#draw.stopMarkerDraw();\n        },\n        clearArt: () => {\n            this.#draw.clearMarkerArt();\n        },\n        changeIcon: icon => {\n            this.#draw.changeMarkerIcon(icon);\n        }\n    };\n}\n\nmodule.exports = MapDraw;","let Brush = require('./brush-tool');\nlet Polygon = require('./polygon-tool');\nlet Marker = require('./marker-tool');\nlet store = require('./store');\n\nclass DrawOnMap {\n    #map;\n    #google;\n    #drawing;\n    #brush;\n    #polygon;\n    #marker;\n\n    constructor(map) {\n        this.#google = window.google;\n        this.#drawing = window.google.maps.drawing;\n        this.#map = map;\n    }\n\n    startBrushDraw() {\n        if (!this.#brush)\n            this.#brush = new Brush(this.#map, this.#google);\n        if (store.states.selected !== this.#brush)\n            store.dispatch('changeSelected', this.#brush);\n    }\n\n    stopBrushDraw() {\n        if (!this.#brush)\n            throw \"Brush Didn't initialized yet! please start Brush drawing before stopping it!\";\n        this.#brush.stopDraw();\n    }\n\n    clearBrushArt() {\n        this.#brush.clearDrawn();\n    }\n\n    startPolygonDraw() {\n        if (!this.#polygon)\n            this.#polygon = new Polygon(this.#map, this.#google, this.#drawing);\n        if (store.states.selected !== this.#polygon)\n            store.dispatch('changeSelected', this.#polygon);\n    }\n\n    stopPolygonDraw() {\n        if (!this.#polygon)\n            throw \"Polygon Didn't initialized yet! please start Polygon drawing before stopping it!\";\n        this.#polygon.stopDraw();\n    }\n\n    clearPolygonArt() {\n        this.#polygon.clearDrawn();\n    }\n\n    startMarkerDraw() {\n        if (!this.#marker)\n            this.#marker = new Marker(this.#map, this.#google, this.#drawing);\n        if (store.states.selected !== this.#marker)\n            store.dispatch('changeSelected', this.#marker);\n    }\n\n    stopMarkerDraw() {\n        if (!this.#marker)\n            throw \"Marker Didn't initialized yet! please start Marker drawing before stopping it!\";\n        this.#marker.stopDraw();\n    }\n\n    clearMarkerArt() {\n        this.#marker.clearDrawn();\n    }\n\n    clearAllArt(){\n        if(this.#brush)\n            this.#brush.clearBrushArt();\n        if(this.#polygon)\n            this.#polygon.clearPolygonArt();\n        if(this.#marker)\n            this.#marker.clearMarkerArt();\n    }\n\n    changeColor(color){\n        if(color && typeof color === \"string\")\n            store.dispatch('changeColor', color);\n    }\n\n    changeStrokeWeight(weight){\n        if(weight && typeof weight === \"number\")\n            store.dispatch('changeStrokeWeight', weight);\n    }\n\n    changePolygonFillColor(color){\n        if(color && typeof color === \"string\")\n            store.dispatch('changePolygonFillColor', color)\n    }\n\n    changePolygonOpacity(opacity){\n        if(opacity && typeof opacity === \"number\")\n            store.dispatch('changePolygonOpacity', opacity)\n    }\n\n    changeMarkerIcon(icon){\n        store.dispatch('changeMarkerIcon', icon);\n    }\n}\n\nmodule.exports = DrawOnMap;","let Tools = require('./tools');\nlet store = require('./store');\n\nclass Brush extends Tools {\n    #map;\n    #google;\n    #isSelected = false;\n    #drawn = [];\n\n    constructor(map, google) {\n        super(store);\n        this.#map = map;\n        this.#google = google;\n    }\n\n    #initTool() {\n        return {\n            cache: {},\n            map: this.#map,\n            options: {zIndex: 200000},\n            poly: false\n        };\n    }\n\n    #setOptions() {\n        this.BRUSH.options.strokeColor = store.states.color;\n        this.BRUSH.options.strokeWeight = store.states.strokeWeight;\n    }\n\n    #drawStroke(e) {\n        if (!e || !this.BRUSH.poly) {\n            this.BRUSH.poly = false;\n            return;\n        }\n        let l = this.BRUSH.cache[this.BRUSH.poly],\n            p = l.getPath();\n        p.insertAt(p.getLength(), e.latLng);\n        l.setPath(p);\n    }\n\n    #initDraw(e, google) {\n        let options = this.BRUSH.options;\n        options.map = this.BRUSH.map;\n        options.clickable = false;\n        this.BRUSH.poly = 'p' + new Date().getTime();\n        this.BRUSH.cache[this.BRUSH.poly] = new google.maps.Polyline(options);\n        this.#drawn.push(this.BRUSH.cache[this.BRUSH.poly]);\n        this.#drawStroke(e);\n    }\n\n    #initEvents(){\n        let that = this;\n        this.#google.maps.event.addListener(that.#map, 'mousemove', e => {\n            that.#drawStroke(e);\n        });\n        this.#google.maps.event.addListener(that.#map, 'mouseup', e => {\n            that.#drawStroke(0);\n        });\n        this.#google.maps.event.addListener(that.#map, 'mouseout', e => {\n            that.#drawStroke(0);\n        });\n        this.#google.maps.event.addListener(that.#map, 'mousedown', e => {\n            that.#initDraw(e, that.#google);\n        });\n    }\n\n    startDraw() {\n        if(!(store.states.selected instanceof Brush))\n            return;\n\n        this.#isSelected = true;\n        this.BRUSH = this.#initTool();\n        this.#setOptions();\n        this.#initEvents();\n    }\n\n    stopDraw() {\n        if(!this.#isSelected)\n            return;\n\n        this.#isSelected = false;\n        this.#google.maps.event.clearListeners(this.#map, 'mousemove');\n        this.#google.maps.event.clearListeners(this.#map, 'mouseup');\n        this.#google.maps.event.clearListeners(this.#map, 'mouseout');\n        this.#google.maps.event.clearListeners(this.#map, 'mousedown');\n    }\n\n    clearDrawn() {\n        this.#drawn.map(obj => obj.setMap(null));\n        this.#drawn.length = 0;\n    }\n}\n\nmodule.exports = Brush;","class PubSub {\n    constructor() {\n        this.events = {};\n    }\n\n    subscribe(event, callback) {\n        let self = this;\n        if (!self.events.hasOwnProperty(event)) {\n            self.events[event] = [];\n        }\n        return self.events[event].push(callback);\n    }\n\n    publish(event, data = {}) {\n        let self = this;\n        if(!self.events.hasOwnProperty(event)) {\n            return [];\n        }\n        return self.events[event].map(callback => callback(data));\n    }\n}\n\nmodule.exports = PubSub;","let Tools = require('./tools');\nlet store = require('./store');\n\nclass Polygon extends Tools {\n    #map;\n    #google;\n    #drawing;\n    #isSelected = false;\n    #drawn = [];\n\n    constructor(map, google, drawing) {\n        super(store);\n        this.#map = map;\n        this.#google = google;\n        this.#drawing = drawing;\n    }\n\n    #initTool() {\n        return {\n            drawingControl: false,\n            polygonOptions: {\n                editable: false,\n                draggable: false,\n                clickable: false,\n                zIndex: 200000\n            }\n        }\n    }\n\n    #setOptions(){\n        this.POLYGON.polygonOptions.strokeColor = store.states.color;\n        this.POLYGON.polygonOptions.strokeWeight = store.states.strokeWeight;\n        this.POLYGON.polygonOptions.fillColor = store.states.polygonFillColor;\n        this.POLYGON.polygonOptions.fillOpacity = store.states.polygonOpacity;\n    }\n\n    #initDraw(){\n        let that = this;\n        this.#google.maps.event.addListener(this.POLYGON, 'polygoncomplete', (polygon) => {\n            that.#drawn.push(polygon);\n        });\n        this.POLYGON.setDrawingMode(this.#drawing.OverlayType.POLYGON);\n    }\n\n    startDraw() {\n        if(!(store.states.selected instanceof Polygon))\n            return;\n\n        this.#isSelected = true;\n        this.POLYGON = new this.#drawing.DrawingManager(this.#initTool());\n        this.#initDraw();\n        this.#setOptions();\n        this.POLYGON.setMap(this.#map);\n    }\n\n    stopDraw(){\n        if(!this.#isSelected)\n            return;\n\n        this.#isSelected = false;\n        this.#google.maps.event.clearListeners(this.POLYGON, 'polygoncomplete');\n        this.POLYGON.setMap(null);\n    }\n\n    clearDrawn() {\n        this.#drawn.map(obj => obj.setMap(null));\n        this.#drawn.length = 0;\n    }\n}\n\nmodule.exports = Polygon;","let Tools = require('./tools');\nlet store = require('./store');\nlet ColorfulMarkerIcon = require('./colorfulMarkerIcon');\n\nclass Marker extends Tools {\n    #map;\n    #google;\n    #drawing;\n    #isSelected = false;\n    #drawn = [];\n\n    constructor(map, google, drawing) {\n        super(store);\n        this.#map = map;\n        this.#google = google;\n        this.#drawing = drawing;\n    }\n\n    #initTool() {\n        return {\n            drawingControl: false,\n            markerOptions: {\n                editable: false,\n                draggable: false,\n                clickable: false,\n                cursor: 'pointer',\n                zIndex: 200000\n            }\n        };\n    }\n\n    #setOptions() {\n        let icon = null;\n        if(!store.states.markerIcon)\n            icon = null;\n        else if(store.states.markerIcon.toLowerCase() === 'default')\n            icon = null;\n        else if(store.states.markerIcon.toLowerCase() === \"colorful\")\n            icon = new ColorfulMarkerIcon().icon();\n        else\n            icon = store.states.markerIcon.toLowerCase();\n\n        this.MARKER.markerOptions.icon = icon;\n    }\n\n    #initDraw() {\n        let that = this;\n        this.#google.maps.event.addListener(this.MARKER, 'markercomplete', (marker) => {\n            that.#drawn.push(marker);\n        });\n        this.MARKER.setDrawingMode(this.#drawing.OverlayType.MARKER);\n    }\n\n    startDraw() {\n        if (!(store.states.selected instanceof Marker))\n            return;\n\n        this.#isSelected = true;\n        this.MARKER = new this.#drawing.DrawingManager(this.#initTool());\n        this.#initDraw();\n        this.#setOptions();\n        this.MARKER.setMap(this.#map);\n    }\n\n    stopDraw() {\n        if (!this.#isSelected)\n            return;\n\n        this.#isSelected = false;\n        this.#google.maps.event.clearListeners(this.MARKER, 'markercomplete');\n        this.MARKER.setMap(null);\n    }\n\n    clearDrawn() {\n        this.#drawn.map(obj => obj.setMap(null));\n        this.#drawn.length = 0;\n    }\n}\n\nmodule.exports = Marker;","let store = require('./store');\n\nclass ColorfulMarkerIcon {\n\n    icon() {\n        let canvas = document.createElement('canvas');\n        canvas.style.display = \"none\";\n        let tCtx = canvas.getContext('2d');\n        tCtx.font = '600 120px Times New Roman';\n        let size = tCtx.measureText('.');\n        let fontMeasurement = this.#fontHeightCalculation(canvas, tCtx.font, '.');\n        canvas.height = fontMeasurement.height + 8;\n        canvas.width = size.width + 8;\n        tCtx.font = '600 120px Times New Roman';\n        tCtx.fillStyle = store.states.color;\n        tCtx.fillText('.', 0, fontMeasurement.height + 4.5);\n        return tCtx.canvas.toDataURL();\n    }\n\n    #fontHeightCalculation(canvas, fontStyle, text) {\n        let context = canvas.getContext(\"2d\");\n        let sourceWidth = canvas.width;\n        let sourceHeight = canvas.height;\n\n        context.font = fontStyle;\n        context.textAlign = \"left\";\n        context.textBaseline = \"top\";\n        context.fillText(text, 25, 5);\n\n        let data = context.getImageData(0, 0, sourceWidth, sourceHeight).data;\n        let firstY = this.#firstHeightCalculation(sourceWidth, sourceHeight, data);\n        let lastY = this.#lastHeightCalculation(sourceWidth, sourceHeight, data);\n\n        return {height: lastY - firstY}\n    }\n\n    #firstHeightCalculation(sourceWidth, sourceHeight, data) {\n        let firstY = -1;\n        for (let y = 0; y < sourceHeight; y++) {\n            for (let x = 0; x < sourceWidth; x++) {\n                let alpha = data[((sourceWidth * y) + x) * 4 + 3];\n                if (alpha > 0) {\n                    firstY = y;\n                    break;\n                }\n            }\n            if (firstY >= 0)\n                break;\n        }\n        return firstY;\n    }\n\n    #lastHeightCalculation(sourceWidth, sourceHeight, data) {\n        let lastY = -1;\n        for (let y = sourceHeight; y > 0; y--) {\n            for (let x = 0; x < sourceWidth; x++) {\n                let alpha = data[((sourceWidth * y) + x) * 4 + 3];\n                if (alpha > 0) {\n                    lastY = y;\n                    break;\n                }\n            }\n            if (lastY >= 0)\n                break;\n        }\n        return lastY;\n    }\n}\n\nmodule.exports = ColorfulMarkerIcon;"],"sourceRoot":""}